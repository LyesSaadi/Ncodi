@{

}
<link href="~/css/playground.css" rel="stylesheet" />
<style>
    .codeflask {
        width: 50% !important;
        /* height: 50%; */
        position: absolute !important;
        top: 50%;
        /* left: 50%; */
        transform: translateY(-50%) !important;
        /* display: block; */
    }
    .run {
        position: absolute !important;
        left: 50% !important;
        z-index:90;
    }

    .output {
        position: absolute !important;
        left: 50% !important;
        height: 100%;
        width: 50%;
        background: #272822 !important;
        font-size: 1rem !important;
        line-height: 1.5 !important;
        color: #f8f8f2 !important;
    }
</style>
<div id="code-editor">

</div>
<script src="https://unpkg.com/codeflask/build/codeflask.min.js"></script>

<script>
    const flask = new CodeFlask('#code-editor', { language: 'js', defaultTheme: false, lineNumbers: true });
</script>
<link href="~/css/prism.css" rel="stylesheet" />

<input type="button" class="run" value="Run Code" />
<pre class="output"></pre>
<script>
    const runBtn = document.querySelector(".run");
    const output = document.querySelector(".output");
    runBtn.addEventListener("click", runCode);
    function runCode() {
        console.log(flask.getCode().split(/\n/));
        var xhr = new XMLHttpRequest();
        xhr.open("POST", "/api/editor/run", true);
        xhr.setRequestHeader('Content-Type', 'application/json');
        xhr.send(JSON.stringify({
            lines: flask.getCode().split(/\n/),
            filename: "ioi"
        }));
        xhr.onload = function () {
            console.log(this.responseText);
            var data = JSON.parse(this.responseText);
            console.log(data);
            output.innerHTML = ""
            for (const element of data) {
                output.innerHTML += element;
                output.innerHTML += "<br>";
            }
        }
    }
    flask.onUpdate((code) => {
        console.log(code.match(/^(.*?(\bkan\b)[^$]*)$/g))
    });
</script>